# Technical Blog Monitor - Environment Configuration
# This file contains all available configuration options for the blog monitor
# Copy this file to .env and adjust the values as needed

#######################
# Application Settings
#######################
# Application name and environment
APP_NAME=technical-blog-monitor
VERSION=0.1.0
ENVIRONMENT=development  # development, staging, production
DEBUG=false

# Base paths for data storage
BASE_DIR=.
DATA_DIR=./data

#######################
# Feed Configuration
#######################
# Example feed configuration (you can add multiple feeds)
# Format: FEEDS__0__name=feed_name, FEEDS__0__url=https://example.com/feed
# For multiple feeds, increment the index: FEEDS__1__name, FEEDS__2__name, etc.

FEEDS__0__NAME=Google Cloud Blog
FEEDS__0__URL=https://cloud.google.com/blog/products/rss
FEEDS__0__CHECK_INTERVAL_MINUTES=60
FEEDS__0__MAX_POSTS_PER_CHECK=10
FEEDS__0__ENABLED=true

FEEDS__1__NAME=AWS Blog
FEEDS__1__URL=https://aws.amazon.com/blogs/aws/feed/
FEEDS__1__CHECK_INTERVAL_MINUTES=60
FEEDS__1__MAX_POSTS_PER_CHECK=10
FEEDS__1__ENABLED=true

FEEDS__2__NAME=Microsoft Azure Blog
FEEDS__2__URL=https://techcommunity.microsoft.com/t5/azure-blog/bg-p/AzureBlog/rss
FEEDS__2__CHECK_INTERVAL_MINUTES=60
FEEDS__2__MAX_POSTS_PER_CHECK=10
FEEDS__2__ENABLED=true

# Optional URL to fetch feed list dynamically
# FEED_LIST_URL=https://example.com/feeds.json

#######################
# Browser Configuration
#######################
# Headless browser settings for rendering pages
BROWSER__HEADLESS=true
BROWSER__BROWSER_TYPE=chromium  # chromium, firefox, webkit
BROWSER__TIMEOUT_SECONDS=30
BROWSER__VIEWPORT_WIDTH=1280
BROWSER__VIEWPORT_HEIGHT=800
BROWSER__USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36
BROWSER__WAIT_UNTIL=networkidle  # load, domcontentloaded, networkidle
BROWSER__SCREENSHOT_FULL_PAGE=true
BROWSER__SCREENSHOT_FORMAT=png  # png, jpeg
BROWSER__MAX_CONCURRENT_BROWSERS=3
BROWSER__DISABLE_JAVASCRIPT=false
BROWSER__BLOCK_ADS=true
BROWSER__STEALTH_MODE=true

#######################
# Cache Configuration
#######################
# Caching settings for improved performance
CACHE__ENABLED=true
CACHE__REDIS_URL=redis://localhost:6379/0
# CACHE__REDIS_PASSWORD=your_redis_password
CACHE__CACHE_TTL_HOURS=168  # 1 week
CACHE__LOCAL_STORAGE_PATH=./cache

#######################
# Embedding Configuration
#######################
# Text and image embedding model settings
EMBEDDING__TEXT_MODEL_TYPE=openai  # openai, huggingface, sentence_transformers, custom
EMBEDDING__TEXT_MODEL_NAME=text-embedding-ada-002
EMBEDDING__IMAGE_MODEL_TYPE=openai  # Leave empty to disable image embeddings
EMBEDDING__IMAGE_MODEL_NAME=clip

# API credentials (required for respective services)
EMBEDDING__OPENAI_API_KEY=sk-your-openai-api-key
# EMBEDDING__HUGGINGFACE_API_KEY=your-huggingface-api-key

# Model parameters
EMBEDDING__EMBEDDING_DIMENSIONS=1536  # Dimensions depend on the model
EMBEDDING__BATCH_SIZE=8
EMBEDDING__MAX_RETRIES=3
EMBEDDING__TIMEOUT_SECONDS=30

# Local model settings (for sentence_transformers or custom)
# EMBEDDING__LOCAL_MODEL_PATH=./models/all-MiniLM-L6-v2
EMBEDDING__USE_GPU=false

#######################
# Vector DB Configuration
#######################
# Vector database settings for storing embeddings
VECTOR_DB__DB_TYPE=qdrant  # qdrant, chroma, pinecone, milvus, weaviate
VECTOR_DB__CONNECTION_STRING=http://localhost:6333
# VECTOR_DB__API_KEY=your-vector-db-api-key
VECTOR_DB__COLLECTION_NAME=technical_blog_posts

# Schema configuration
VECTOR_DB__TEXT_VECTOR_DIMENSION=1536  # Should match embedding dimensions
VECTOR_DB__IMAGE_VECTOR_DIMENSION=512  # For image embeddings if used
VECTOR_DB__DISTANCE_METRIC=cosine  # cosine, euclidean, dot

# Performance settings
VECTOR_DB__BATCH_SIZE=100
VECTOR_DB__TIMEOUT_SECONDS=30

#######################
# Scheduler Configuration
#######################
# Job scheduler settings
SCHEDULER__JOB_STORE_TYPE=memory  # memory, redis, sqlalchemy
# SCHEDULER__JOB_STORE_URL=redis://localhost:6379/1
SCHEDULER__MAX_INSTANCES=1
SCHEDULER__TIMEZONE=UTC
SCHEDULER__COALESCE=true
SCHEDULER__MISFIRE_GRACE_TIME=60  # seconds

#######################
# Metrics Configuration
#######################
# Monitoring and logging settings
METRICS__ENABLED=true
METRICS__PROMETHEUS_ENABLED=false
METRICS__PROMETHEUS_PORT=8000
METRICS__LOG_METRICS=true
METRICS__LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
METRICS__STRUCTURED_LOGGING=true

#######################
# Runtime Settings
#######################
# General performance and behavior settings
MAX_CONCURRENT_TASKS=10
REQUEST_TIMEOUT_SECONDS=30
BACKOFF_MAX_RETRIES=5
BACKOFF_MAX_TIME=60  # seconds
